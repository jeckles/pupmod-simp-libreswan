conn clear
	type = passthrough
	authby = <%= @authby %>
	left = <%= @left %>
	right = %group
	auto = <%= @auto %>

conn clear-or-private
	type = tunnel
	left = <%= @left %>
	leftid = <%= @leftid %>
	right = %opportunisticgroup
	rightid = <%= @rightid %>
	rightca = <%= @rightca %>
	leftauth = <%= @leftauth %>
	rightauth = <%= @rightauth %>
	ikev2 = <%= @ikev2 %>
# Allow data to passthrough in cleartext as IKE occurs
	negotiationshunt = passthrough
# If IPsec tunnel fails to be setup, allow data to flow through anyways 
	failureshunt = passthrough
	narrowing = <%= @narrowing %>
	keyingtries = <%= @keyingtries %>
	rekey = <%= @rekey %>
        auto = <%= @auto %>

conn private-or-clear
	type = tunnel
	left = <%= @left %>
	leftid = <%= @leftid %>
	right = %opportunisticgroup
	rightid = <%= @rightid %>
	rightca = <%= @rightca %>
	ikev2 = <%= @ikev2 %>
	narrowing = <%= @narrowing %>
	leftauth = <%= @leftauth %>
	rightauth = <%= @rightauth %>
# Allow data to passthrough in cleartext as IKE occurs
 	negotiationshunt = passthrough
# If IPsec tunnel fails to be setup, allow data to flow through anyways
	failureshunt = passthrough
	keyingtries = <%= @keyingtries %>
	rekey = <%= @rekey %>
	auto = <%= @auto %>

conn private
	type = tunnel
	left = <%= @left %>
	leftid = <%= @leftid %>
	right = %opportunisticgroup
	rightid = <%= @rightid %>
	rightca = <%= @rightca %>
	ikev2 = <%= @ikev2 %>
	leftauth = <%= @leftauth %>
	rightauth = <%= @rightauth %>
# Hold data while IKE attempts to setup IPSec tunnel
 	negotiationshunt = hold
# If IKE fails to start IPsec connection, reject the connection
	failureshunt = reject
	auto = <%= @auto %>

conn block
	type = reject
	authby = <%= @authby %>
	left = <%= @left %>
	right = %group
	auto = <%= @auto %>
